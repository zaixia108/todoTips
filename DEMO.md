# TodoTips 演示指南

本文档提供TodoTips应用程序的演示步骤和预期结果。

## 准备工作

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 启动应用

```bash
# Linux/macOS
python3 main.py

# Windows
python main.py
```

## 演示场景

### 场景 1: 首次启动

**步骤**:
1. 运行 `python3 main.py`
2. 观察系统托盘出现TodoTips图标

**预期结果**:
- 应用启动成功
- 系统托盘显示图标
- 没有弹出主窗口（后台运行）

### 场景 2: 快速添加待办

**步骤**:
1. 复制文本到剪贴板：`完成项目报告`
2. 按下快捷键：`Ctrl+Shift+A`
3. 观察系统通知

**预期结果**:
- 显示通知："待办已添加"
- 消息包含添加的内容
- 待办自动添加到"本日"列表
- 自动设置3次提醒（5分钟、15分钟、1小时）

### 场景 3: 查看待办列表

**步骤**:
1. 按下快捷键：`Ctrl+Shift+T`
2. 主窗口打开
3. 查看"本日"标签页

**预期结果**:
- 主窗口显示
- 可以看到刚才添加的待办
- 显示添加时间
- 复选框未选中

### 场景 4: 手动添加待办

**步骤**:
1. 在主窗口点击"+ 添加待办"
2. 输入标题："准备团队会议"
3. 输入描述："讨论Q1总结"
4. 选择类别："本周"
5. 点击"确定"

**预期结果**:
- 对话框关闭
- 新待办出现在"本周"标签页
- 列表自动刷新

### 场景 5: 完成待办

**步骤**:
1. 在待办列表中勾选某个待办的复选框

**预期结果**:
- 待办文本显示删除线
- 文本颜色变灰
- 标记为已完成

### 场景 6: 删除待办

**步骤**:
1. 右键点击待办项
2. 选择"删除"
3. 在确认对话框中点击"是"

**预期结果**:
- 显示确认对话框
- 待办从列表中移除
- 数据保存到文件

### 场景 7: 接收提醒

**步骤**:
1. 使用快捷键添加待办
2. 等待5分钟

**预期结果**:
- 5分钟后显示系统通知
- 通知标题："待办提醒"
- 通知内容：待办标题
- 播放音效（如果启用）

### 场景 8: 导出待办

**步骤**:
1. 打开主窗口
2. 点击"导出"按钮
3. 选择保存位置
4. 保存为 `my_todos.json`

**预期结果**:
- 文件保存对话框打开
- JSON文件成功保存
- 显示成功消息
- 文件包含所有待办和统计信息

### 场景 9: 自定义快捷键

**步骤**:
1. 右键点击托盘图标
2. 选择"设置"
3. 修改快捷键为 `ctrl+shift+q` 和 `ctrl+shift+w`
4. 点击"保存"

**预期结果**:
- 设置保存成功
- 显示提示：需要重启应用
- 重启后新快捷键生效

### 场景 10: 退出应用

**步骤**:
1. 右键点击托盘图标
2. 选择"退出"

**预期结果**:
- 显示退出确认
- 应用关闭
- 数据自动保存
- 托盘图标消失

## 数据验证

### 检查数据文件

```bash
# 查看保存的待办数据
cat todos.json | python -m json.tool
```

**预期内容**:
```json
[
  {
    "id": "uuid...",
    "title": "完成项目报告",
    "description": "",
    "category": "today",
    "created_at": "2026-02-13T...",
    "due_date": null,
    "completed": false,
    "completed_at": null,
    "reminders": [
      "2026-02-13T...",
      "2026-02-13T...",
      "2026-02-13T..."
    ]
  }
]
```

### 检查导出文件

```bash
# 查看导出的数据
cat my_todos.json | python -m json.tool
```

**预期内容**:
```json
{
  "today": {
    "category": "today",
    "export_time": "2026-02-13T...",
    "total": 3,
    "completed": 1,
    "todos": [...]
  },
  "week": {...},
  "month": {...}
}
```

## 测试清单

- [ ] 应用成功启动
- [ ] 托盘图标正常显示
- [ ] 快捷键工作正常
- [ ] 剪贴板添加成功
- [ ] 系统通知显示正确
- [ ] 主窗口打开正常
- [ ] 三个标签页都能切换
- [ ] 手动添加待办成功
- [ ] 完成待办功能正常
- [ ] 删除待办功能正常
- [ ] 提醒准时触发
- [ ] 导出功能正常
- [ ] 设置保存成功
- [ ] 数据持久化正常
- [ ] 退出应用正常

## 故障排除

### 快捷键不工作

**问题**: 按快捷键没有反应

**解决方案**:
1. 检查keyboard库是否安装：`pip list | grep keyboard`
2. Linux系统尝试使用sudo运行
3. 检查快捷键是否与其他程序冲突
4. 查看终端是否有错误信息

### 通知不显示

**问题**: 添加待办后没有通知

**解决方案**:
1. Windows：检查系统通知设置
2. macOS：系统偏好设置 → 通知
3. Linux：确认安装libnotify
4. 检查托盘图标是否正常

### 数据未保存

**问题**: 重启后待办消失

**解决方案**:
1. 检查todos.json是否存在
2. 检查文件权限
3. 查看终端错误信息
4. 确认正常退出应用

## 性能测试

### 添加大量待办

```python
# 测试脚本
import pyperclip
import time

for i in range(100):
    pyperclip.copy(f"测试待办 {i}")
    # 按 Ctrl+Shift+A
    time.sleep(1)
```

**预期结果**:
- 应用保持响应
- 所有待办成功添加
- UI不卡顿

## 总结

完成所有演示场景后，应该能够验证：

✅ 所有基本功能正常工作
✅ 所有附加功能可用
✅ 数据正确保存和加载
✅ 用户体验流畅
✅ 界面美观易用

TodoTips已准备好投入使用！
